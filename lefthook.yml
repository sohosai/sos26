pre-commit:
  parallel: true
  commands:
    biome:
      glob: "**/*.{js,ts,jsx,tsx,json,jsonc,cjs,mjs,cts,mts}"
      run: bunx biome check --write {staged_files}
      stage_fixed: true
    prisma:
      glob: "prisma/schema.prisma"
      run: bun run format:prisma
      stage_fixed: true

pre-push:
  commands:
    block-main-push:
      run: |
        branch=$(git symbolic-ref --short HEAD)
        if [ "$branch" = "main" ] || [ "$branch" = "chore/disable-push-main" ]; then
          echo "main ブランチへの直接の push は禁止されています。"
          exit 1
        fi
